# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Docker

## 0. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

‚ö°‚ö° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ [Docker](https://docs.docker.com/get-docker/).

## 1. –°–∫–∞—á–∞–π—Ç–µ NocoBase –ª–æ–∫–∞–ª—å–Ω–æ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏:

```bash
git clone https://github.com/nocobase/nocobase.git nocobase
```

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ GitHub, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gitee (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ [—Å–∫–∞—á–∞–π—Ç–µ Zip-–∞—Ä—Ö–∏–≤](https://gitee.com/nocobase/nocobase/repository/archive/main.zip) –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –µ–≥–æ –≤ –ø–∞–ø–∫—É `nocobase`):

```bash
git clone https://gitee.com/nocobase/nocobase.git nocobase
```

## 2. –í—ã–±–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É, —Å–∫–∞—á–∞–Ω–Ω—É—é –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ (—Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–π—Ç–µ –ø—É—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è).

```bash
# MacOS, Linux...
cd /your/path/nocobase
# Windows
cd C:\your\path\nocobase
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–º–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

### SQLite

```bash
cd docker/app-sqlite
```

### MySQL

```bash
cd docker/app-mysql
```

### MariaDB

```bash
cd docker/app-mariadb
```

### PostgreSQL

```bash
cd docker/app-postgres
```

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ docker-compose.yml (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

<Alert>

–ï—Å–ª–∏ –≤—ã –Ω–µ —è–≤–ª—è–µ—Ç–µ—Å—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥. –ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π, –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `docker-compose.yml`.

</Alert>

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ (—Å–≤—è–∑–∞–Ω–Ω–∞—è —Å Docker):

```bash
‚îú‚îÄ‚îÄ nocobase
  ‚îú‚îÄ‚îÄ docker
    ‚îú‚îÄ‚îÄ app-sqlite
      ‚îú‚îÄ‚îÄ storage
      ‚îú‚îÄ‚îÄ docker-compose.yml
    ‚îú‚îÄ‚îÄ app-mariadb
      ‚îú‚îÄ‚îÄ storage
      ‚îú‚îÄ‚îÄ docker-compose.yml
    ‚îú‚îÄ‚îÄ app-mysql
      ‚îú‚îÄ‚îÄ storage
      ‚îú‚îÄ‚îÄ docker-compose.yml
    ‚îú‚îÄ‚îÄ app-postgres
      ‚îú‚îÄ‚îÄ storage
      ‚îú‚îÄ‚îÄ docker-compose.yml
```

–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `docker-compose.yml`:

–î–ª—è SQLite —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å `app`, –∞ –¥–ª—è PostgreSQL –∏ MySQL –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã `postgres` –∏–ª–∏ `mysql`. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ—é.

```yml
services:
  app:
  postgres:
  mysql:
  mariadb:
```

–ü–æ—Ä—Ç –¥–ª—è `app`: –≤ –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç 13000, –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ ‚Äî `http://your-ip:13000/`.

```yml
services:
  app:
    ports:
      - '13000:80'
```

–í–µ—Ä—Å–∏–∏ NocoBase ([–Ω–∞–∂–º–∏—Ç–µ –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏](https://hub.docker.com/r/nocobase/nocobase/tags)). –û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –≤–µ—Ä—Å–∏–π:

- `nocobase/nocobase:main` ‚Äî –≤–µ—Ä—Å–∏—è –∏–∑ –≤–µ—Ç–∫–∏ main, –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∂–µ–ª–∞—é—â–∏—Ö –æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤–µ–π—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
- `nocobase/nocobase:latest` ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –≤—ã–ø—É—â–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è; –µ—Å–ª–∏ –≤–∞–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –≤–µ—Ä—Å–∏—é.
- `nocobase/nocobase:0.18.0-alpha.9` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

:::warning
`nocobase/nocobase:main` –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É arm64.
:::

```yml
services:
  app:
    image: nocobase/nocobase:latest
```

ÁéØÂ¢ÉÂèòÈáè

```yml
services:
  app:
    image: nocobase/nocobase:latest
    environment:
      - APP_KEY=your-secret-key
      - DB_DIALECT=postgres
      - DB_HOST=postgres
      - DB_DATABASE=nocobase
      - DB_USER=nocobase
      - DB_PASSWORD=nocobase
```

:::warning
- `APP_KEY` ‚Äî —ç—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å `APP_KEY`, —Å—Ç–∞—Ä—ã–µ —Ç–æ–∫–µ–Ω—ã —Å—Ç–∞–Ω—É—Ç –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏). –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞. –ò–∑–º–µ–Ω–∏—Ç–µ –µ—ë –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è.
- `DB_*` –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏–∑–º–µ–Ω–∏—Ç–µ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ MySQL (–∏–ª–∏ MariaDB) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DB_TIMEZONE`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `DB_TIMEZONE=+08:00`.
:::

## 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ NocoBase

–ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.

```bash
# ÊãâÂèñÊúÄÊñ∞ÈïúÂÉè
$ docker-compose pull
# Âú®ÂêéÂè∞ËøêË°å
$ docker-compose up -d
# Êü•Áúã app ËøõÁ®ãÁöÑÊÉÖÂÜµ
$ docker-compose logs app

app-sqlite-app-1  | nginx started
app-sqlite-app-1  | yarn run v1.22.15
app-sqlite-app-1  | $ cross-env DOTENV_CONFIG_PATH=.env node -r dotenv/config packages/app/server/lib/index.js install -s
app-sqlite-app-1  | Done in 2.72s.
app-sqlite-app-1  | yarn run v1.22.15
app-sqlite-app-1  | $ pm2-runtime start --node-args="-r dotenv/config" packages/app/server/lib/index.js -- start
app-sqlite-app-1  | 2022-04-28T15:45:38: PM2 log: Launching in no daemon mode
app-sqlite-app-1  | 2022-04-28T15:45:38: PM2 log: App [index:0] starting in -fork mode-
app-sqlite-app-1  | 2022-04-28T15:45:38: PM2 log: App [index:0] online
app-sqlite-app-1  | üöÄ NocoBase server running at: http://localhost:13000/
```

## 5. –í—Ö–æ–¥ –≤ NocoBase

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ http://localhost:13000/. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞: –ª–æ–≥–∏–Ω ‚Äî `admin@nocobase.com`, –ø–∞—Ä–æ–ª—å ‚Äî `admin123`.
